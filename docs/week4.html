<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA0023 Learning Diary - 5&nbsp; week4: Policy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./week5.html" rel="next">
<link href="./week3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">week4: Policy</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">CASA0023 Learning Diary</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week1: Getting started with remote sensing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week2: Portfolio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week3: Corrections</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week4.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">week4: Policy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week5.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">week5.html</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="toc-section-number">5.1</span>  Summary</a>
  <ul class="collapse">
  <li><a href="#current-city-layout-of-london" id="toc-current-city-layout-of-london" class="nav-link" data-scroll-target="#current-city-layout-of-london"><span class="toc-section-number">5.1.1</span>  Current city layout of London</a></li>
  <li><a href="#development-goals-and-policies-in-the-future" id="toc-development-goals-and-policies-in-the-future" class="nav-link" data-scroll-target="#development-goals-and-policies-in-the-future"><span class="toc-section-number">5.1.2</span>  development goals and policies in the future</a></li>
  <li><a href="#problems-during-city-development-of-london" id="toc-problems-during-city-development-of-london" class="nav-link" data-scroll-target="#problems-during-city-development-of-london"><span class="toc-section-number">5.1.3</span>  Problems during city development of London</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="toc-section-number">5.2</span>  Application</a>
  <ul class="collapse">
  <li><a href="#case-1-summer-heat-spots-from-landsat8-thermal-satellite-data" id="toc-case-1-summer-heat-spots-from-landsat8-thermal-satellite-data" class="nav-link" data-scroll-target="#case-1-summer-heat-spots-from-landsat8-thermal-satellite-data"><span class="toc-section-number">5.2.1</span>  Case 1: Summer heat spots from Landsat8 Thermal satellite data</a></li>
  <li><a href="#case-2-remote-sensing-of-motor-vehicle-emissions-in-london" id="toc-case-2-remote-sensing-of-motor-vehicle-emissions-in-london" class="nav-link" data-scroll-target="#case-2-remote-sensing-of-motor-vehicle-emissions-in-london"><span class="toc-section-number">5.2.2</span>  case 2: Remote sensing of motor vehicle emissions in London</a></li>
  </ul></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="toc-section-number">5.3</span>  Reflection</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">week4: Policy</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>city plan and application of remote sensing for London</p>
<section id="summary" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">5.1</span> Summary</h2>
<section id="current-city-layout-of-london" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="current-city-layout-of-london"><span class="header-section-number">5.1.1</span> Current city layout of London</h3>
<p>General speaking, London has a complex city layout that has evolved over centuries of growth and development. Until 2022, London was a sprawling metropolis, with a mix of historic and modern buildings, a well-developed transport network, and a diverse range of neighborhoods and communities.</p>
<ol type="1">
<li>main functional areas The city is divided into 32 boroughs, each with its own unique character and amenities. For example, the center of London is home to many of the city’s famous landmarks and tourist attractions, including Buckingham Palace, the Tower of London, and the London Eye. The West End is known for its theaters, shopping, and nightlife, while the South Bank is home to many cultural institutions, including the National Theatre and the Tate Modern art museum.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/borough.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">London borough map. Source: London Communications Agency</figcaption><p></p>
</figure>
</div>
<ol start="2" type="1">
<li>development direction: London is surrounded by green belt land (dark green section), which serves to limit the expansion of the city and protect the surrounding countryside. Despite this, the city continues to grow, with new developments and communities being built on the outskirts of London, particularly in the east and southeast of the city. The light green section represents the areas of London that are still to be developed.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/green_belt.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Green belt land surrounded London. Source: The London Plan 2021</figcaption><p></p>
</figure>
</div>
<ol start="3" type="1">
<li>transportation: The transport network in London is extensive and includes an underground railway system (the London Underground), a network of bus routes, and overground rail services. London is also well connected to the rest of the UK and Europe, with several major airports, including Heathrow and Gatwick, and international train services from St Pancras station.</li>
</ol>
<p>It includes several kinds of means of transport as following: London Underground (Tube): The London Underground is a rapid transit system that operates throughout the city and is one of the oldest and largest metro systems in the world. It comprises of 11 lines and serves 270 stations.</p>
<ul>
<li><p>Buses: London has one of the largest urban bus networks in the world, with over 8,000 buses serving over 700 routes. Buses are an important mode of transportation for many Londoners and are a cost-effective way to travel around the city.</p></li>
<li><p>Overground: London Overground is a network of suburban rail services that operates across Greater London and the surrounding areas. It connects with the London Underground and National Rail services, providing a comprehensive rail network for Londoners.</p></li>
<li><p>Taxis and Private Hire Vehicles: London is famous for its black cabs, which can be hailed on the street or at taxi ranks. Private hire vehicles, also known as minicabs, must be pre-booked and are widely available throughout the city.</p></li>
<li><p>Cycling: London has a growing number of cycle lanes and cycle-friendly streets, and there are several schemes in place to encourage cycling, including the Santander Cycles bike hire scheme.</p></li>
<li><p>Walking: London is a walkable city, and many areas are easily accessible on foot. There are also several pedestrian-only zones, making it easier and safer for people to walk around the city.</p></li>
</ul>
</section>
<section id="development-goals-and-policies-in-the-future" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="development-goals-and-policies-in-the-future"><span class="header-section-number">5.1.2</span> development goals and policies in the future</h3>
<ul>
<li><p>Provide housing for a growing population: The plan aims to deliver new homes to meet the growing demand for housing in the city.</p></li>
<li><p>Promote economic growth: The plan aims to support London’s economy by creating new jobs, promoting investment, and supporting businesses. improve the efficiency and resilience.</p></li>
<li><p>Improve transport and connectivity: The plan aims to make it easier for people to travel around London and connect with the rest of the country and beyond.</p></li>
<li><p>Enhance the environment: The plan aims to improve the quality of the natural and built environment in London and to protect the city’s green spaces.</p></li>
<li><p>Promote social inclusion and equality: The plan aims to ensure that everyone in London has the opportunity to participate in the city’s social, economic, and cultural life.</p></li>
</ul>
</section>
<section id="problems-during-city-development-of-london" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="problems-during-city-development-of-london"><span class="header-section-number">5.1.3</span> Problems during city development of London</h3>
<ul>
<li><p>Housing Shortage: London has faced a persistent shortage of affordable housing, particularly in the central areas of the city. This has led to high levels of homelessness and housing insecurity, and has put pressure on the city’s social and healthcare systems. In addition, with the CPI and cost of living growth, it becomes more and more difficult for foreigners to live there, high rental, high energy cost, high transportation cost make them leave.</p></li>
<li><p>Congestion and Traffic: London’s rapid growth has led to increased traffic congestion, air pollution, and noise pollution. The city has struggled to keep up with the demands of its growing population and has faced challenges in improving the efficiency and sustainability of its transportation network.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/air_quality.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Air quality focus area. Source: The London Plan 2021</figcaption><p></p>
</figure>
</div>
<ul>
<li><p>Inadequate Infrastructure: London’s infrastructure has struggled to keep pace with the city’s growth, and there have been significant challenges in providing adequate public transportation, water and sewage services, and waste management facilities.</p></li>
<li><p>Environmental Degradation: London’s rapid growth has led to the degradation of its natural environment, including the loss of green spaces, air and water pollution, and the degradation of its soil and vegetation.</p></li>
<li><p>Social Disparities: London is a city with significant social and economic disparities, with some areas experiencing high levels of poverty, crime, and social exclusion, while others are more affluent and economically prosperous.</p></li>
<li><p>Historical Preservation: London is a city with a rich history and cultural heritage, and there have been challenges in balancing the need to preserve its historical buildings and monuments with the demands of a modern, growing city.</p></li>
</ul>
</section>
</section>
<section id="application" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="application"><span class="header-section-number">5.2</span> Application</h2>
<section id="case-1-summer-heat-spots-from-landsat8-thermal-satellite-data" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="case-1-summer-heat-spots-from-landsat8-thermal-satellite-data"><span class="header-section-number">5.2.1</span> Case 1: Summer heat spots from Landsat8 Thermal satellite data</h3>
<p>Landsat8 satellite can provide a high-resolution thermal data and use as a basis for mapping the spatial distribution of Great London Area (GLA) surface temperatures and identifying those urban hotspots. This dataset is a count of surface temperatures from the summer months (June, July and August only) between 2016 and 2020, obtained from landsat8 thermal infrared imagery. In addition to the five-year average temperature for the area, the dataset also includes maximum and minimum temperatures and standard deviations to provide a visual representation of the magnitude and range of temperature changes over the five-year period in GLA.</p>
<p>Higher temperatures tend to occur in densely populated areas.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/hotspot.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">heat spot of London summer temperature. Data source: Major Summer Heat Spot London Datastore</figcaption><p></p>
</figure>
</div>
<p>As can be seen from the map, the population is predominantly distributed between the north and south banks of the Thames, with the population on the north bank being greater than that on the south bank. The green belt around London can be seen more clearly on the map. The population of the north bank is more dense in the east than in the west. The density of population is high from the City of London all the way north, and is also high in north-east London, decreasing further east. Conversely, the centre of the South Bank is more densely populated, while the east and west are less dense. If Greater London continues to expand, the north-east and south-east would be a better choice.</p>
<p>Take the City of London for example, some areas saw the highest temperatures compared with the whole city, such as Euston Station east of Regent’s Park, and most of the high heat areas were in high-traffic areas such as train stations, tube stations, shopping malls and airports.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/city.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">heat spot in City of London</figcaption><p></p>
</figure>
</div>
<p>In addition to population density affecting surface temperatures, industry, airport also have an impact on surface temperatures, with the highest surface temperatures occurring in the five year period shown below at the Dagenham engine plant, ocado customer fullfilment centre, ExCel International Convention and Exhibition Centre along the Thames in east London, and Heathrow Airport to the west.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/east.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Highest temperature areas (east)</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/heathrow.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Highest temperature areas (west)</figcaption><p></p>
</figure>
</div>
<p>Knowing the temperature changes will help to understand the population distribution in GLA, which in turn will allow transport to be organised to develop faster and more accessible transport in dense areas, to develop infrastructure and to reduce the pressure on existing transport (for example, the central line passes through areas of great population density, and the central line is the oldest tube in London and still the busiest in London). The central line, for example, is the oldest and still the busiest tube in London, so it has to take on a lot of traffic pressure). In addition, more polluting facilities such as factories can be relocated to less populated areas. Knowing the distribution of temperatures can also control the creation of high temperature situations, such as the rare high temperatures in the London area in the summer of 2022.</p>
</section>
<section id="case-2-remote-sensing-of-motor-vehicle-emissions-in-london" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="case-2-remote-sensing-of-motor-vehicle-emissions-in-london"><span class="header-section-number">5.2.2</span> case 2: Remote sensing of motor vehicle emissions in London</h3>
<p>energy hierarchy policy and target of London city plan * be lean: less energy used and energy demand management * be clean: fully use local energy (secondary energy explicit) and use energy more efficiently and cleanly. * be green: add the opportunity for using renewable energy, provide producing, storing energy on-site * be seen: monitor, verify and report on energy performance.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/energy.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Energy hierarchy</figcaption><p></p>
</figure>
</div>
<p>In response to a call for collaboration between the Mayor of London and the TRUE initiative, carbon emissions from passing vehicles were tested using remote sensing technology at nine sites across Greater London between 2017 and 2018, with carbon emissions data recorded for over 100,000 vehicles, The experiment focused on petrol and diesel vehicles in the London area, with vehicle types including passenger cars, buses, light passenger vehicles, trucks and motorbikes, and measured emissions of carbon oxides and nitrogen oxides.</p>
<p>The remote sensing equipment used for the experiments was the Opus AccuScan RSD5000, which was the first to test exhaust gases in three main ways:</p>
<ul>
<li><p>The device emits infrared and ultraviolet light velocities that pass through vehicle emissions, measuring the attenuation of these beams, instant vehicle emissions, the device measures nitrogen oxides and carbon oxides, opacity is measured as a proxy for respirable particulate matter, the device emits a frequency of 200 Hz and can measure 100 times in 0.5 seconds.</p></li>
<li><p>Measurement of the instantaneous acceleration of the vehicle as a measure of the engine load, which is related to the instantaneous emission rate.</p></li>
<li><p>One camera is responsible for photographing the vehicle licence plate for database comparison to determine its model, displacement standard.</p></li>
</ul>
<p>The general conditions of testing vehicles</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/categories.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Characteristic of testing vehicles</figcaption><p></p>
</figure>
</div>
<p>Result:</p>
<ul>
<li>Diesel passenger cars are six to seven times more likely to emit nitrogen oxides than petrol passenger cars.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/nox.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">6 standard Euro NOx emission. Source: Dallmann et al., 2018</figcaption><p></p>
</figure>
</div>
<ul>
<li>Euro5 and Euro6 diesel engines emit significantly more nitrogen oxides than Euro3 and Euro4, while petrol engines emit the similar amount</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/euro.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">average distance NOx emission for different vehicle family. Source: Dallmann et al., 2018</figcaption><p></p>
</figure>
</div>
<p>Therefore, petrol vehicles outperform diesel vehicles and to achieve carbon emission reductions, the number of diesel vehicles needs to be limited and Euro3 or Euro4 diesel engines should be promoted instead of Euro5 and Euro6.</p>
</section>
</section>
<section id="reflection" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">5.3</span> Reflection</h2>
<p>In this week, I learned a lot about London city plan in future decades, first the current situation of London development, then the problems of city development, the target city plan, and use several cases to demonstrate how remote sensing technology can help with city plan.</p>
<p>First, use the temperature heat spot case to find the pattern of London population distribution, this helps to enhance the efficiency and effectiveness of London land usage. Then, use a kind of remote sensing equipment to measure the carbon emission of different vehicles, and come up with some constructive advice to acheive lower carbon target.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./week3.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week3: Corrections</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./week5.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">week5.html</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>